<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <title>Emoji encode decode</title>
</head>

<body>
  <div class="container">
    <h1 class="text-center">Emoji encode - decode</h1>
    <div class="row g-2">
      <div class="col-12 col-sm-6 p-4 border border-primary">
        <form id="encode-form">
          <div class="mb-3">
            <label for="encode-input" class="form-label">N·ªôi dung tin nh·∫Øn</label>
            <textarea type="text" rows="5" class="form-control" id="encode-input"
              placeholder="Nh·∫≠p tin nh·∫Øn"></textarea>
          </div>
          <button type="submit" class="btn btn-primary">M√£ h√≥a</button>
          <div class="mb-3">
            <label for="encode-output" class="form-label">N·ªôi dung emoji</label>
            <textarea type="text" rows="5" class="form-control" id="encode-output"
              placeholder="N·ªôi dung tin nh·∫Øn emoji"></textarea>
          </div>
        </form>
      </div>
      <div class="col-12 col-sm-6 p-4 border border-danger">
        <form id="decode-form">
          <div class="mb-3">
            <label for="decode-input" class="form-label">N·ªôi dung emoji</label>
            <textarea type="text" rows="5" class="form-control" id="decode-input"
              placeholder="Nh·∫≠p tin nh·∫Øn emoji"></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Gi·∫£i m√£</button>
          <div class="mb-3">
            <label for="decode-output" class="form-label">N·ªôi dung tin nh·∫Øn</label>
            <textarea type="text" rows="5" class="form-control" id="decode-output"
              placeholder="N·ªôi dung tin nh·∫Øn"></textarea>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
    crossorigin="anonymous"></script>
</body>
<script>
  const mapping = {
    'üòÉ': 'a',
    'üòÑ': 'ƒÉ',
    'üòÅ': '√¢',
    'üòÜ': 'b',
    'üòÖ': 'c',
    'üòÇ': 'd',
    'ü§£': 'ƒë',
    'ü•≤': 'e',
    'üòä': '√™',
    'üòá': 'g',
    'üôÇ': 'h',
    'üôÉ': 'i',
    'üòâ': 'k',
    'üòå': 'l',
    'üòç': 'm',
    'ü•∞': 'n',
    'üòò': 'o',
    'üòó': '√¥',
    'üòô': '∆°',
    'üòö': 'p',
    'üòã': 'q',
    'üòõ': 'r',
    'üòù': 's',
    'üòú': 't',
    'ü§™': 'u',
    'ü§®': '∆∞',
    'üßê': 'v',
    'ü§ì': 'x',
    'üòé': 'y',
    '.': ' ',
    'ü§©': '√†',
    'ü•≥': '√°',
    'üòè': '·∫£',
    'üòí': '√£',
    'üòû': '·∫°',
    'üòî': '·∫±',
    'üòü': '·∫Ø',
    'üòï': '·∫≥',
    'üò£': '·∫µ',
    'üòñ': '·∫∑',
    'üò´': '·∫ß',
    'üò©': '·∫•',
    'ü•∫': '·∫©',
    'üò¢': '·∫´',
    'üò≠': '·∫≠',
    'üò§': '√®',
    'üò†': '√©',
    'üò°': '·∫ª',
    'ü§¨': '·∫Ω',
    'ü§Ø': '·∫π',
    'üò≥': '·ªÅ',
    'ü•µ': '·∫ø',
    'ü•∂': '·ªÉ',
    'üò±': '·ªÖ',
    'üò®': '·ªá',
    'üò∞': '√≤',
    'üò•': '√≥',
    'üòì': '·ªè',
    'ü§ó': '√µ',
    'ü§î': '·ªç',
    'ü§≠': '·ªì',
    'ü§´': '·ªë',
    'ü§•': '·ªï',
    'üò∂': '·ªó',
    'üòê': '·ªô',
    'üòë': '·ªù',
    'üò¨': '·ªõ',
    'üôÑ': '·ªü',
    'üòØ': '·ª°',
    'üò¶': '·ª£',
    'üòß': '√π',
    'üòÆ': '√∫',
    'üò≤': '·ªß',
    'ü•±': '≈©',
    'üò¥': '·ª•',
    'ü§§': '·ª´',
    'üò™': '·ª©',
    'üòµ': '·ª≠',
    'ü§ê': '·ªØ',
    'ü•¥': '·ª±',
    'ü§¢': '√¨',
    'ü§Æ': '√≠',
    'ü§ß': '·ªâ',
    'üò∑': 'ƒ©',
    'ü§í': '·ªã',
    'ü§ï': '·ª≥',
    'ü§ë': '√Ω',
    'ü§†': '·ª∑',
    'üòà': '·ªπ',
    'üëø': '·ªµ',
  }
  const _this = this
  const encodeForm = document.getElementById('encode-form')
  const encodeInput = document.getElementById('encode-input')
  const encodeOutput = document.getElementById('encode-output')

  const decodeForm = document.getElementById('decode-form')
  const decodeInput = document.getElementById('decode-input')
  const decodeOutput = document.getElementById('decode-output')

  encodeForm.addEventListener('submit', (e) => {
    e.preventDefault()

    const input = String(encodeInput.value).trim().toLocaleLowerCase()
    let output = ''
    for (let character of input) {
      output += _this.getEncode(character)
    }
    encodeOutput.value = output
  })

  decodeForm.addEventListener('submit', (e) => {
    e.preventDefault()

    const input = String(decodeInput.value).trim().toLocaleLowerCase()
    let output = ''
    for (let character of input) {
      output += _this.getDecode(character)
    }
    decodeOutput.value = output
  })

  function getEncode(value = ' ') {
    for (let key in mapping) {
      if (mapping[key] === value) return key
    }
    return value
  }

  function getDecode(value = '.') {
    for (let key in mapping) {
      if (key === value) return mapping[key]
    }
    return value
  }

  function bootstrap() {
    encodeInput.value = "Em ƒÉn g·∫°o lu·ªôc ch∆∞a?"
    encodeInput.focus()
    document.querySelector('#encode-form button').click()

  }

  window.addEventListener('DOMContentLoaded', (event) => {
    _this.bootstrap()
  });

</script>
</body>

</html>